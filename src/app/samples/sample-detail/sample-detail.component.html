
<!-- Header with back button -->
<div class="d-flex justify-content-between align-items-start mb-4">
  <div style="max-width: 600px;">
    <p class="text-muted mb-3 fst-italic">We are currently working on more details to be provided on this page, such as sources, speaker profiles, links to transcriptions and phrases, etc.</p>
    <h6 class="text-muted mb-1">Sample Detail</h6>
    <h2 *ngIf="sample" class="mb-0">{{ sample.dialect_name }}</h2>
    <small *ngIf="sample" class="text-muted">{{ sample.sample_ref }}</small>
  </div>
  <button class="btn btn-outline-primary" (click)="goBackToSamples()">
    <i class="bi bi-arrow-left me-2"></i>Back to List
  </button>
</div>

<div class="map-container mb-5">
    <div class="map-frame">
        <div id="map"></div>
    </div>
    <br>
    <button class="btn btn-outline-secondary" (click)="recenter()">Recenter Map</button>
</div>
<div *ngIf="sample">
    <table class="table w-auto table-striped">
        <tr>
            <td>Ref</td>
            <td class="ps-3">{{ sample.sample_ref }}</td>
        </tr>
        <tr>
            <td>Name</td>
            <td class="ps-3">{{ sample.dialect_name }}</td>
        </tr>
        <tr *ngIf="sample.self_attrib_name">
            <td>Self Attributed Name</td>
            <td class="ps-3">{{ sample.self_attrib_name }}</td>
        </tr>
        <tr *ngIf="sample.source_type">
            <td>Source Type</td>
            <td class="ps-3">{{ sample.source_type }}</td>
        </tr>
        <tr *ngIf="!countryInfo">
            <td>Country Code</td>
            <td class="ps-3">{{ sample.country_code }}</td>
        </tr>
        <tr *ngIf="countryInfo">
            <td>Country</td>
            <td class="ps-3">{{ countryInfo.name }} {{ countryInfo.flag }}</td>
        </tr>
        <tr *ngIf="sample.latitude">
            <td>Coordinates</td>
            <td class="ps-3">{{ sample.latitude }}, {{ sample.longitude }}</td>
        </tr>
    </table>

    <div *ngIf="sample.contact_languages && sample.contact_languages.length > 0" class="mt-4">
        <h5>Contact Languages</h5>
        <table class="table w-auto table-striped">
            <thead>
                <tr>
                    <th *ngFor="let contactLang of sample.contact_languages">{{ contactLang.source }}</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td *ngFor="let contactLang of sample.contact_languages">{{ contactLang.language || '-' }}</td>
                </tr>
            </tbody>
        </table>
    </div>

</div>
<div *ngIf="!sample" class="container">
    <p>Sample not found!</p>
</div>